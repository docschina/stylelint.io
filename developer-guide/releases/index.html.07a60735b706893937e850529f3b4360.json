{"head":{"description":"执行发布 主要目标是： 将更新的包发布到 npm。 使用创建带记录的 GitHub 版本。 次要目标是： 确保 stylelint 组织的 stylelint-config-\\* 可共享配置与该版本兼容。 在 https&#x3A;//stylelint.io/demo…","title":"执行发布"},"body":"<h1 id=\"执行发布\"><a href=\"#%E6%89%A7%E8%A1%8C%E5%8F%91%E5%B8%83\" class=\"phenomic-HeadingAnchor\">#</a>执行发布</h1>\n<p>主要目标是：</p>\n<ol>\n<li>将更新的包发布到 npm。</li>\n<li>使用创建带记录的 GitHub 版本。</li>\n</ol>\n<p>次要目标是：</p>\n<ol>\n<li>确保 stylelint 组织的 <code>stylelint-config-*</code> 可共享配置与该版本兼容。</li>\n<li>在 <a href=\"https://stylelint.io/demo\">https://stylelint.io/demo</a> 更新在线演示以使用该版本。</li>\n<li>更新 <a href=\"https://stylelint.io\">https://stylelint.io</a> 上的文档以使用该版本。</li>\n<li>发送推文。</li>\n</ol>\n<h2 id=\"过程\"><a href=\"#%E8%BF%87%E7%A8%8B\" class=\"phenomic-HeadingAnchor\">#</a>过程</h2>\n<ol>\n<li>创建一个<a href=\"https://github.com/stylelint/stylelint/issues/new\">新问题</a>，宣布计划发布，例如 <code>Release 8.11.1</code> 并包含<a href=\"#%E6%96%B0%E7%89%88%E6%9C%AC%E9%97%AE%E9%A2%98%E6%A8%A1%E6%9D%BF\">模板清单</a>。</li>\n<li>在 <code>stylelint-config-*</code> 可共享配置储存库中本地测试 <code>master</code>。</li>\n<li>在 <code>stylelint.io</code> 储存库中本地测试 <code>master</code>。</li>\n<li>在 <code>stylelint-demo</code> 储存库中本地测试 <code>master</code>。</li>\n<li>\n<p>使用 <a href=\"https://github.com/MoOx/npmpub\"><code>npmpub</code></a>将包发布到 npm 并创建 github 版本：</p>\n<ol>\n<li>确保更改日志的<a href=\"../pull-requests/\">格式一致性</a>。</li>\n<li>运行 <code>npm --no-git-tag-version version major|minor|patch</code> 来增加 <code>package.json</code> 和 <code>package-lock.json</code> 中的 <code>version</code> 号，根据它是否是补丁、次要或主要版本。</li>\n<li>\n<p>在以下相关的位置更新 <code>CHANGELOG.md</code> 中的 <code>[Head]</code> 。</p>\n<ul>\n<li>用这个新的版本号替换 <code>## [Head]</code>，例如 <code>## [8.1.2]</code></li>\n<li>用这个新的版本号替换 <code>[Head]: https://github.com/stylelint/stylelint/compare/{version}...HEAD</code>，例如 <code>[8.1.2]: https://{...omitted...}/compare/8.1.1...8.1.2</code>.</li>\n</ul>\n</li>\n<li>提交并 <em>上推</em> 这些更改。</li>\n<li>访问 <a href=\"https://github.com/stylelint/stylelint\">https://github.com/stylelint/stylelint</a> 并确认这些更改被推上了而且正确。</li>\n<li>运行 <code>npm run release</code> （测试应该通过，否则无法发布）</li>\n<li>运行 <code>NPM_CONFIG_OTP=123456 npm run release -- --skip-test --skip-cleanup</code></li>\n<li>访问 <a href=\"https://www.npmjs.com/package/stylelint\">https://www.npmjs.com/package/stylelint</a> 并确认包已正确发布。</li>\n<li>访问 <a href=\"https://github.com/stylelint/stylelint/releases\">https://github.com/stylelint/stylelint/releases</a> 并确认已正确创建版本。</li>\n</ol>\n</li>\n<li>如果需要任何 <code>stylelint-config-*</code> 的新版本，请对该储存库重复步骤5。</li>\n<li>\n<p>通过更新 <code>stylelint-demo</code> 储存库更新在线演示：</p>\n<ol>\n<li>运行 <code>npm install -S stylelint@latest</code></li>\n<li>运行 <code>npm test</code></li>\n<li>提交并 <em>上推</em> 这些更改。</li>\n<li>访问 <a href=\"https://stylelint.io/demo\">https://stylelint.io/demo</a> 并确认已自动部署更新。</li>\n</ol>\n</li>\n<li>\n<p>通过更新 <code>stylelint.io</code> 储存库更新更新网站文档：</p>\n<ol>\n<li>运行 <code>npm install -D stylelint@latest</code></li>\n<li>运行 <code>npm test</code></li>\n<li>提交并 <em>上推</em> 这些更改。</li>\n<li>运行 <code>npm run deploy</code>.</li>\n<li>访问 <a href=\"https://stylelint.io\">https://stylelint.io</a> 并确认已正确部署更新。</li>\n</ol>\n</li>\n<li>编写一条推文，宣布发布，传达已更改的内容，并链接到<a href=\"https://stylelint.io\">https://stylelint.io</a>上更改日志中的相应标题。</li>\n</ol>\n<h2 id=\"新版本问题模板\"><a href=\"#%E6%96%B0%E7%89%88%E6%9C%AC%E9%97%AE%E9%A2%98%E6%A8%A1%E6%9D%BF\" class=\"phenomic-HeadingAnchor\">#</a>新版本问题模板</h2>\n<pre><code class=\"hljs language-markdown\"><span class=\"hljs-bullet\">- </span>[ ] stylelint release\n<span class=\"hljs-bullet\">- </span>[ ] stylelint-config-recommended update/release\n<span class=\"hljs-bullet\">- </span>[ ] stylelint-config-standard update/release\n<span class=\"hljs-bullet\">- </span>[ ] stylelint-demo update\n<span class=\"hljs-bullet\">- </span>[ ] stylelint.io update\n<span class=\"hljs-bullet\">- </span>[ ] tweet\n\ncc @stylelint/core</code></pre>\n","__filename":"developer-guide/releases.md","__url":"/developer-guide/releases/","__resourceUrl":"/developer-guide/releases/index.html","__dataUrl":"/developer-guide/releases/index.html.07a60735b706893937e850529f3b4360.json"}