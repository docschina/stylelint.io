{"head":{"layout":"RulePage","next":"/user-guide/rules/no-duplicate-at-import-rules/","prev":"/user-guide/rules/comment-no-empty/","description":"no-descending-specificity 禁止在具有较高优先级的选择器后出现被其覆盖的较低优先级的选择器。 源码顺序在 CSS…","title":""},"body":"<h1 id=\"no-descending-specificity\"><a href=\"#no-descending-specificity\" class=\"phenomic-HeadingAnchor\">#</a>no-descending-specificity</h1>\n<p>禁止在具有较高优先级的选择器后出现被其覆盖的较低优先级的选择器。</p>\n<pre><code class=\"hljs   language-css\">    <span class=\"hljs-selector-id\">#container</span> <span class=\"hljs-selector-tag\">a</span> { <span class=\"hljs-attribute\">top</span>: <span class=\"hljs-number\">10px</span>; } <span class=\"hljs-selector-tag\">a</span> { <span class=\"hljs-attribute\">top</span>: <span class=\"hljs-number\">0</span>; }\n<span class=\"hljs-comment\">/** ↑                           ↑\n * 这些选择器的顺序代表了降序的优先级 */</span></code></pre>\n<p>源码顺序在 CSS 中很重要，当两个选择器具有<em>相同</em>优先级时，<em>最后</em>出现的选择器将具有优先权。然而，当选择器之一具有<em>更高</em>优先级时，情况是不同的。在这种情况下，源码顺序确实<em>不</em>重要：具有更高优先级的选择器即使先出现也会胜出。</p>\n<p>这两种优先级，源码顺序和优先级机制的冲突在阅读样式表时会引起一些混乱。如果具有更高优先级的选择器出现在它覆盖了的选择器<em>之前</em>，我们必然更加难以理解它，因为它违反了源码顺序期望。<strong>当覆盖选择器总是在它们要覆盖的选择器<em>之后</em>时，样式表是最清晰的。</strong> 这样，源码顺序和优先级这两种机制可以很好地协同工作。</p>\n<p>该规则将尽可能<em>强制执行</em>。（它不能捕获每个<em>实际的</em>覆盖选择器（因为它不知道 DOM 结构），但是它可以捕获某些常见错误。）</p>\n<p>它的工作原理是：<strong>此规则查看每个完整选择器中的最后一个<em>复合选择器</em>，然后将其与样式表中以相同方式结尾的其他选择器进行比较。</strong></p>\n<p>所以 <code>.foo .bar</code>（其最后一个复合选择器是 <code>.bar</code>）将与 <code>.bar</code> 和 <code>#baz .bar</code> 比较，而不是与 <code>#baz .foo</code> 或 <code>.bar .foo</code>。</p>\n<p>而 <code>a > li#wag.pit</code>（其最后一个复合选择器是 <code>li#wag.pit</code>）将与 <code>div li#wag.pit</code> 和 <code>a > b > li + li#wag.pit</code> 比较，而不是与 <code>li</code> 或 <code>li #wag</code> 等。</p>\n<p>另外还有一个重要特性：针对伪元素的选择器与没有伪元素的类似选择器被认为是不可比较的，因为它们定位了渲染页面上的不同元素。例如，<code>a::before {}</code> 将不会与 <code>a:hover {}</code> 进行比较，因为 <code>a::before</code> 以伪元素为目标，而 <code>a:hover</code> 则以实际的 <code>&#x3C;a></code> 为目标。</p>\n<p>此规则仅比较同一媒体上下文中的规则。所以 <code>a {} @media print { #baz a {} }</code> 不违规。</p>\n<p>此规则在计算选择器的优先级之前解析嵌套选择器。</p>\n<h2 id=\"选项\"><a href=\"#%E9%80%89%E9%A1%B9\" class=\"phenomic-HeadingAnchor\">#</a>选项</h2>\n<h3 id=\"true\"><a href=\"#true\" class=\"phenomic-HeadingAnchor\">#</a><code>true</code></h3>\n<p>以下模式被视为违规：</p>\n<pre><code class=\"hljs   language-css\"><span class=\"hljs-selector-tag\">b</span> <span class=\"hljs-selector-tag\">a</span> {}\n<span class=\"hljs-selector-tag\">a</span> {}</code></pre>\n<pre><code class=\"hljs   language-css\"><span class=\"hljs-selector-tag\">a</span> + <span class=\"hljs-selector-tag\">a</span> {}\n<span class=\"hljs-selector-tag\">a</span> {}</code></pre>\n<pre><code class=\"hljs   language-css\"><span class=\"hljs-selector-tag\">b</span> > <span class=\"hljs-selector-tag\">a</span><span class=\"hljs-selector-attr\">[foo]</span> {}\n<span class=\"hljs-selector-tag\">a</span><span class=\"hljs-selector-attr\">[foo]</span> {}</code></pre>\n<pre><code class=\"hljs   language-css\"><span class=\"hljs-selector-tag\">a</span> {\n  &#x26; > b {}\n}\n<span class=\"hljs-selector-tag\">b</span> {}</code></pre>\n<pre><code class=\"hljs   language-css\">@<span class=\"hljs-keyword\">media</span> print {\n  <span class=\"hljs-selector-id\">#c</span> <span class=\"hljs-selector-tag\">a</span> {}\n  <span class=\"hljs-selector-tag\">a</span> {}\n}</code></pre>\n<p>以下模式<em>不</em>被视为违规：</p>\n<pre><code class=\"hljs   language-css\"><span class=\"hljs-selector-tag\">a</span> {}\n<span class=\"hljs-selector-tag\">b</span> <span class=\"hljs-selector-tag\">a</span> {}</code></pre>\n<pre><code class=\"hljs   language-css\"><span class=\"hljs-selector-tag\">a</span> {}\n<span class=\"hljs-selector-tag\">a</span> + <span class=\"hljs-selector-tag\">a</span> {}</code></pre>\n<pre><code class=\"hljs   language-css\"><span class=\"hljs-selector-tag\">a</span><span class=\"hljs-selector-attr\">[foo]</span> {}\n<span class=\"hljs-selector-tag\">b</span> > <span class=\"hljs-selector-tag\">a</span><span class=\"hljs-selector-attr\">[foo]</span> {}</code></pre>\n<pre><code class=\"hljs   language-css\"><span class=\"hljs-selector-tag\">b</span> {}\n<span class=\"hljs-selector-tag\">a</span> {\n  &#x26; > b {}\n}</code></pre>\n<pre><code class=\"hljs   language-css\"><span class=\"hljs-selector-tag\">a</span><span class=\"hljs-selector-pseudo\">::before</span> {}\n<span class=\"hljs-selector-tag\">a</span><span class=\"hljs-selector-pseudo\">:hover</span><span class=\"hljs-selector-pseudo\">::before</span> {}\n<span class=\"hljs-selector-tag\">a</span> {}\n<span class=\"hljs-selector-tag\">a</span><span class=\"hljs-selector-pseudo\">:hover</span> {}</code></pre>\n<pre><code class=\"hljs   language-css\">@<span class=\"hljs-keyword\">media</span> print {\n  <span class=\"hljs-selector-tag\">a</span> {}\n  <span class=\"hljs-selector-id\">#c</span> <span class=\"hljs-selector-tag\">a</span> {}\n}</code></pre>\n<pre><code class=\"hljs   language-css\"><span class=\"hljs-selector-tag\">a</span> {}\n@<span class=\"hljs-keyword\">media</span> print {\n  <span class=\"hljs-selector-id\">#baz</span> <span class=\"hljs-selector-tag\">a</span> {}\n}</code></pre>\n","__filename":"user-guide/rules/no-descending-specificity.md","__url":"/user-guide/rules/no-descending-specificity/","__resourceUrl":"/user-guide/rules/no-descending-specificity/index.html","__dataUrl":"/user-guide/rules/no-descending-specificity/index.html.49554a2669331646f70a996cc7d11eff.json"}