{"head":{"layout":"RulePage","next":"/user-guide/rules/no-unknown-animations/","prev":"/user-guide/rules/comment-word-blacklist/","description":"max-nesting-depth 限制允许的嵌套深度。 此规则的工作原理是检查规则和@规则实际的“嵌套深度”是否违反指定的最大值。以下是嵌套深度的工作原理：…","title":""},"body":"<h1 id=\"max-nesting-depth\"><a href=\"#max-nesting-depth\" class=\"phenomic-HeadingAnchor\">#</a>max-nesting-depth</h1>\n<p>限制允许的嵌套深度。</p>\n<pre><code class=\"hljs   language-css\"><span class=\"hljs-selector-tag\">a</span> { &#x26; > b { <span class=\"hljs-attribute\">top</span>: <span class=\"hljs-number\">0</span>; } }\n<span class=\"hljs-comment\">/** ↑\n * 这个嵌套 */</span></code></pre>\n<p>此规则的工作原理是检查规则和@规则实际的“嵌套深度”是否违反指定的最大值。以下是嵌套深度的工作原理：</p>\n<pre><code class=\"hljs   language-css\"><span class=\"hljs-selector-tag\">a</span> {\n  &#x26; b { <span class=\"hljs-comment\">/* 嵌套深度 1 */</span>\n    &#x26; .foo { <span class=\"hljs-comment\">/* 嵌套深度 2 */</span>\n      @media print { <span class=\"hljs-comment\">/* 嵌套深度 3 */</span>\n        &#x26; .baz { <span class=\"hljs-comment\">/* 嵌套深度 4 */</span>\n          <span class=\"hljs-attribute\">color</span>: pink;\n        }\n      }\n    }\n  }\n}</code></pre>\n<p>请注意，<strong>根级别@规则将<em>不会</em>计入嵌套深度中</strong>，因为大多数用户会理所当然地认为根级别@规则将是“豁免的”（因为必要）。所以以下两个 <code>.foo</code> 规则的嵌套深度均为 2，因此如果您的<code>最大值</code>小于或等于 2，它们将通过检查：</p>\n<pre><code class=\"hljs   language-css\"><span class=\"hljs-selector-tag\">a</span> {\n  b { <span class=\"hljs-comment\">/* 1 */</span>\n    .foo {} <span class=\"hljs-comment\">/* 2 */</span>\n  }\n}\n\n@<span class=\"hljs-keyword\">media</span> print { <span class=\"hljs-comment\">/* 被忽略 */</span>\n  <span class=\"hljs-selector-tag\">a</span> {\n    b { <span class=\"hljs-comment\">/* 1 */</span>\n      .foo {} <span class=\"hljs-comment\">/* 2 */</span>\n    }\n  }\n}</code></pre>\n<p>此规则集成 <a href=\"https://github.com/davidtheclark/stylelint-statement-max-nesting-depth\"><code>stylelint-statement-max-nesting-depth</code></a> 插件（现已弃用）的功能进入 stylelint 核心</p>\n<h2 id=\"选项\"><a href=\"#%E9%80%89%E9%A1%B9\" class=\"phenomic-HeadingAnchor\">#</a>选项</h2>\n<p><code>int</code>: 允许的最大嵌套深度。</p>\n<p>例如，使用 <code>2</code>：</p>\n<p>以下模式被视为违规：</p>\n<pre><code class=\"hljs   language-css\"><span class=\"hljs-selector-tag\">a</span> {\n  &#x26; .foo { <span class=\"hljs-comment\">/* 1 */</span>\n    &#x26;__foo { <span class=\"hljs-comment\">/* 2 */</span>\n      &#x26; > .bar {} <span class=\"hljs-comment\">/* 3 */</span>\n    }\n  }\n}</code></pre>\n<pre><code class=\"hljs   language-css\"><span class=\"hljs-selector-tag\">a</span> {\n  @media print { <span class=\"hljs-comment\">/* 1 */</span>\n    &#x26; .foo { <span class=\"hljs-comment\">/* 2 */</span>\n      &#x26; .bar {} <span class=\"hljs-comment\">/* 3 */</span>\n    }\n  }\n}</code></pre>\n<p>以下模式<em>不</em>被视为违规：</p>\n<pre><code class=\"hljs   language-css\"><span class=\"hljs-selector-tag\">a</span> {\n  &#x26; .foo { <span class=\"hljs-comment\">/* 1 */</span>\n    &#x26;__foo {} <span class=\"hljs-comment\">/* 2 */</span>\n  }\n}\n\n<span class=\"hljs-selector-tag\">a</span> <span class=\"hljs-selector-class\">.foo__foo</span> <span class=\"hljs-selector-class\">.bar</span> <span class=\"hljs-selector-class\">.baz</span> {}</code></pre>\n<pre><code class=\"hljs   language-css\">@<span class=\"hljs-keyword\">media</span> print {\n  <span class=\"hljs-selector-tag\">a</span> {\n    &#x26; .foo { <span class=\"hljs-comment\">/* 1 */</span>\n      &#x26;__foo {} <span class=\"hljs-comment\">/* 2 */</span>\n    }\n  }\n}</code></pre>\n<h2 id=\"可选的辅助选项\"><a href=\"#%E5%8F%AF%E9%80%89%E7%9A%84%E8%BE%85%E5%8A%A9%E9%80%89%E9%A1%B9\" class=\"phenomic-HeadingAnchor\">#</a>可选的辅助选项</h2>\n<h3 id=\"ignore-blockless-at-rules\"><a href=\"#ignore-blockless-at-rules\" class=\"phenomic-HeadingAnchor\">#</a><code>ignore: [\"blockless-at-rules\"]</code></h3>\n<p>忽略仅包含其他规则并且本身不具有声明块的@规则。</p>\n<p>例如，使用 <code>1</code>：</p>\n<p>以下模式被视为违规：</p>\n<p>@规则有一个声明块。</p>\n<pre><code class=\"hljs   language-css\"><span class=\"hljs-selector-tag\">a</span> {\n  &#x26;:hover { <span class=\"hljs-comment\">/* 1 */</span>\n    @media (<span class=\"hljs-attribute\">min-width</span>: <span class=\"hljs-number\">500px</span>) { color: pink; } <span class=\"hljs-comment\">/* 2 */</span>\n  }\n}</code></pre>\n<pre><code class=\"hljs   language-css\"><span class=\"hljs-selector-tag\">a</span> {\n  @nest > b { <span class=\"hljs-comment\">/* 1 */</span>\n    .foo { <span class=\"hljs-attribute\">color</span>: pink; } <span class=\"hljs-comment\">/* 2 */</span>\n  }\n}</code></pre>\n<p>以下模式<em>不</em>被视为违规：</p>\n<p>因为以下所有 <code>.foo</code> 规则的嵌套深度都只有 1。</p>\n<pre><code class=\"hljs   language-css\"><span class=\"hljs-selector-tag\">a</span> {\n  .foo { <span class=\"hljs-attribute\">color</span>: pink; } <span class=\"hljs-comment\">/* 1 */</span>\n}</code></pre>\n<pre><code class=\"hljs   language-css\">@<span class=\"hljs-keyword\">media</span> print { <span class=\"hljs-comment\">/* 无论选项如何都被忽略 */</span>\n  <span class=\"hljs-selector-tag\">a</span> {\n    .foo { <span class=\"hljs-attribute\">color</span>: pink; } <span class=\"hljs-comment\">/* 1 */</span>\n  }\n}</code></pre>\n<pre><code class=\"hljs   language-css\"><span class=\"hljs-selector-tag\">a</span> {\n  @media print { <span class=\"hljs-comment\">/* 被忽略，因为它是一个没有自己的声明块的规则 */</span>\n    .foo { <span class=\"hljs-attribute\">color</span>: pink; } <span class=\"hljs-comment\">/* 1 */</span>\n  }\n}</code></pre>\n<h3 id=\"ignore-pseudo-classes\"><a href=\"#ignore-pseudo-classes\" class=\"phenomic-HeadingAnchor\">#</a><code>ignore: [\"pseudo-classes\"]</code></h3>\n<p>忽略每个选择器列表项中的第一个选择器是伪类的规则</p>\n<p>例如，使用 <code>1</code>：</p>\n<p>以下模式被视为违规：</p>\n<pre><code class=\"hljs   language-css\"><span class=\"hljs-selector-class\">.a</span> {\n  .b { <span class=\"hljs-comment\">/* 1 */</span>\n    .c { <span class=\"hljs-comment\">/* 2 */</span>\n      <span class=\"hljs-attribute\">top</span>: <span class=\"hljs-number\">0</span>;\n    }\n  }\n}</code></pre>\n<pre><code class=\"hljs   language-css\"><span class=\"hljs-selector-class\">.a</span> {\n  &#x26;:hover { <span class=\"hljs-comment\">/* 被忽略 */</span>\n    .b { <span class=\"hljs-comment\">/* 1 */</span>\n      .c { <span class=\"hljs-comment\">/* 2 */</span>\n        <span class=\"hljs-attribute\">top</span>: <span class=\"hljs-number\">0</span>;\n      }\n    }\n  }\n}</code></pre>\n<pre><code class=\"hljs   language-css\"><span class=\"hljs-selector-class\">.a</span> {\n  .b { <span class=\"hljs-comment\">/* 1 */</span>\n    &#x26;::selection { <span class=\"hljs-comment\">/* 2 */</span>\n      <span class=\"hljs-attribute\">color</span>: <span class=\"hljs-number\">#64FFDA</span>;\n    }\n  }\n}</code></pre>\n<pre><code class=\"hljs   language-css\"><span class=\"hljs-selector-class\">.a</span> {\n  .b { <span class=\"hljs-comment\">/* 1 */</span>\n    &#x26;:hover, .c { <span class=\"hljs-comment\">/* 2 */</span>\n      <span class=\"hljs-attribute\">top</span>: <span class=\"hljs-number\">0</span>;\n    }\n  }\n}</code></pre>\n<p>以下模式<em>不</em>被视为违规：</p>\n<p>因为以下所有伪类规则的嵌套深度均为 1。</p>\n<pre><code class=\"hljs   language-css\"><span class=\"hljs-selector-class\">.a</span> {\n  .b { <span class=\"hljs-comment\">/* 1 */</span>\n    &#x26;:hover { <span class=\"hljs-comment\">/* 被忽略 */</span>\n      <span class=\"hljs-attribute\">top</span>: <span class=\"hljs-number\">0</span>;\n    }\n  }\n}</code></pre>\n<pre><code class=\"hljs   language-css\"><span class=\"hljs-selector-class\">.a</span> {\n  .b { <span class=\"hljs-comment\">/* 1 */</span>\n    &#x26;:nest {\n      &#x26;:nest-lvl2 {  <span class=\"hljs-comment\">/* 被忽略 */</span>\n        <span class=\"hljs-attribute\">top</span>: <span class=\"hljs-number\">0</span>;\n      }\n    }\n  }\n}</code></pre>\n<pre><code class=\"hljs   language-css\"><span class=\"hljs-selector-class\">.a</span> {\n  &#x26;:hover {  <span class=\"hljs-comment\">/* 被忽略 */</span>\n    .b { <span class=\"hljs-comment\">/* 1 */</span>\n      <span class=\"hljs-attribute\">top</span>: <span class=\"hljs-number\">0</span>;\n    }\n  }\n}</code></pre>\n<pre><code class=\"hljs   language-css\"><span class=\"hljs-selector-class\">.a</span> {\n  &#x26;:nest {  <span class=\"hljs-comment\">/* 被忽略 */</span>\n    &#x26;:nest-lvl2 {  <span class=\"hljs-comment\">/* 被忽略 */</span>\n      <span class=\"hljs-attribute\">top</span>: <span class=\"hljs-number\">0</span>;\n      .b { <span class=\"hljs-comment\">/* 1 */</span>\n        <span class=\"hljs-attribute\">bottom</span>: <span class=\"hljs-number\">0</span>;\n      }\n    }\n  }\n}</code></pre>\n<pre><code class=\"hljs   language-css\"><span class=\"hljs-selector-class\">.a</span> {\n  .b { <span class=\"hljs-comment\">/* 1 */</span>\n    &#x26;:hover, &#x26;:focus {  <span class=\"hljs-comment\">/* 被忽略 */</span>\n      <span class=\"hljs-attribute\">top</span>: <span class=\"hljs-number\">0</span>;\n    }\n  }\n}</code></pre>\n<h3 id=\"ignoreatrules-regex-regex-string\"><a href=\"#ignoreatrules-regex-regex-string\" class=\"phenomic-HeadingAnchor\">#</a><code>ignoreAtRules: [\"/regex/\", /regex/, \"string\"]</code></h3>\n<p>忽略指定的@规则。</p>\n<p>例如，使用 <code>1</code> 并给定：</p>\n<pre><code class=\"hljs language-js\">[<span class=\"hljs-string\">\"/^my-/\"</span>, <span class=\"hljs-string\">\"media\"</span>]</code></pre>\n<p>以下模式<em>不</em>被视为违规：</p>\n<pre><code class=\"hljs   language-css\"><span class=\"hljs-selector-tag\">a</span> {\n  @media print {      <span class=\"hljs-comment\">/* 1 */</span>\n    b {               <span class=\"hljs-comment\">/* 2 */</span>\n      c { <span class=\"hljs-attribute\">top</span>: <span class=\"hljs-number\">0</span>; }   <span class=\"hljs-comment\">/* 3 */</span>\n    }\n  }\n}</code></pre>\n<pre><code class=\"hljs   language-css\"><span class=\"hljs-selector-tag\">a</span> {\n  b {                 <span class=\"hljs-comment\">/* 1 */</span>\n    @media print {    <span class=\"hljs-comment\">/* 2 */</span>\n      c { <span class=\"hljs-attribute\">top</span>: <span class=\"hljs-number\">0</span>; }   <span class=\"hljs-comment\">/* 3 */</span>\n    }\n  }\n}</code></pre>\n<pre><code class=\"hljs   language-css\"><span class=\"hljs-selector-tag\">a</span> {\n  @my-at-rule print {  <span class=\"hljs-comment\">/* 1 */</span>\n    b {                <span class=\"hljs-comment\">/* 2 */</span>\n      c { <span class=\"hljs-attribute\">top</span>: <span class=\"hljs-number\">0</span>; }    <span class=\"hljs-comment\">/* 3 */</span>\n    }\n  }\n}</code></pre>\n<pre><code class=\"hljs   language-css\"><span class=\"hljs-selector-tag\">a</span> {\n  @my-other-at-rule print {  <span class=\"hljs-comment\">/* 1 */</span>\n    b {                      <span class=\"hljs-comment\">/* 2 */</span>\n      c { <span class=\"hljs-attribute\">top</span>: <span class=\"hljs-number\">0</span>; }          <span class=\"hljs-comment\">/* 3 */</span>\n    }\n  }\n}</code></pre>\n<p>以下模式被视为违规：</p>\n<pre><code class=\"hljs   language-css\"><span class=\"hljs-selector-tag\">a</span> {\n  @import print {       <span class=\"hljs-comment\">/* 1 */</span>\n    b { <span class=\"hljs-attribute\">top</span>: <span class=\"hljs-number\">0</span>; }       <span class=\"hljs-comment\">/* 2 */</span>\n  }\n}</code></pre>\n<pre><code class=\"hljs   language-css\"><span class=\"hljs-selector-tag\">a</span> {\n  @not-my-at-rule print {   <span class=\"hljs-comment\">/* 1 */</span>\n    b { <span class=\"hljs-attribute\">top</span>: <span class=\"hljs-number\">0</span>; }       <span class=\"hljs-comment\">/* 2 */</span>\n  }\n}</code></pre>\n","__filename":"user-guide/rules/max-nesting-depth.md","__url":"/user-guide/rules/max-nesting-depth/","__resourceUrl":"/user-guide/rules/max-nesting-depth/index.html","__dataUrl":"/user-guide/rules/max-nesting-depth/index.html.6794aae383a301c68d4334b7291c9828.json"}